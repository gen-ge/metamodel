---
# =============================================================================
# METADADOS OBRIGAT√ìRIOS (IMUT√ÅVEIS)
# =============================================================================

# Tipo do documento (OBRIGAT√ìRIO)
doc_type: "reference"

# T√≠tulo do documento (OBRIGAT√ìRIO)
title: "CN Component Explorer - Explorador Visual de Componentes"

# Contexto hier√°rquico (OBRIGAT√ìRIO)
context_level: "c3_component"

# Contexto especializado (OBRIGAT√ìRIO)
context_type: "interface"

# M√≥dulo espec√≠fico (OBRIGAT√ìRIO)
module: "cn-component-explorer"

# Conex√µes com outros documentos (OBRIGAT√ìRIO)
connections:
  references: ["component-map.yml", "PROTOCOLO_MARCACAO_CN.md"]
  impacts: ["user-navigation", "system-understanding", "component-discovery"]
  depends_on: ["cli-interface.md", "cn-component-parser.md"]
  blocks: []
  relates_to: ["context-engine.md", "cn-consistency-validator.md"]

# Datas (OBRIGAT√ìRIAS)
created_date: "2025-01-13"
last_updated: "2025-01-13"

# =============================================================================
# METADADOS OPCIONAIS (EXTENS√çVEIS)
# =============================================================================

# Prioridade do componente
priority: "high"

# Status atual
status: "active"

# Respons√°vel pelo componente
owner: "Context Navigator Team"

# Tags para categoriza√ß√£o
tags: ["component", "explorer", "visualization", "interface", "navigation"]

# Complexidade do componente
complexity: "medium"

# Agenda de manuten√ß√£o
maintenance_schedule: "monthly"

# Tipo de componente
component_type: "interface"

# Padr√£o de design
design_pattern: "explorer"

# Responsabilidade principal
responsibility: "visualization"

# Tecnologias principais
key_technologies: ["Python", "YAML", "Tree-display", "CLI"]

# Stakeholders
stakeholders: ["developers", "architects", "new-team-members"]

# N√≠vel de risco
risk_level: "low"
---

<!-- CONTEXT_META
template_version: "1.0.0"
template_type: "reference"
generated_by: "context-navigator"
validation_status: "active"
last_validated: "2025-01-13"
compliance_check: "passed"
metadata_completeness: "100%"
connection_accuracy: "verified"
context_consistency: "verified"
component_category: "user-interface"
implementation_file: "src/context_navigator/scripts/cn_component_explorer.py"
user_experience: "navigation-enhancement"
-->

# üß≠ CN Component Explorer - Explorador Visual de Componentes

> **Template:** Refer√™ncia | **Contexto:** c3_component | **M√≥dulo:** cn-component-explorer  
> **Criado:** 2025-01-13 | **Atualizado:** 2025-01-13 | **Status:** active

## üìã Metadados do Componente

**Tipo:** Interface/Visualizador  
**Responsabilidade:** Navega√ß√£o Visual de Componentes  
**Complexidade:** M√©dia  
**Arquivo:** `src/context_navigator/scripts/cn_component_explorer.py`

## üéØ Prop√≥sito e Fun√ß√£o

### **Objetivo Principal**

O CN Component Explorer √© a **interface visual** para navega√ß√£o e explora√ß√£o da hierarquia de componentes do Context Navigator, transformando dados estruturais do component-map.yml em visualiza√ß√µes compreens√≠veis e naveg√°veis.

### **Responsabilidades Espec√≠ficas**

- **Visualiza√ß√£o Hier√°rquica:** Exibe √°rvore sistema ‚Üí m√≥dulo ‚Üí componente
- **Navega√ß√£o Intuitiva:** Interface amig√°vel para explorar estrutura
- **Informa√ß√µes Contextuais:** Mostra metadados relevantes de cada componente
- **Filtros e Busca:** Permite encontrar componentes espec√≠ficos
- **Relat√≥rios Visuais:** Gera visualiza√ß√µes para diferentes necessidades

## üèóÔ∏è Arquitetura do Componente

### **Classe Principal: CNComponentExplorer**

```python
class CNComponentExplorer:
    """Explorador visual de componentes"""

    def __init__(self, base_path: str = ".")
    def explore_system(self, system_name: str = None) -> str
    def list_components(self, filter_type: str = None) -> str
    def _render_system_tree(self, sys_name: str, sys_data: Dict) -> str
    def _find_modules_for_system(self, system_name: str) -> Dict
    def _find_components_for_module(self, module_name: str) -> Dict
```

### **Depend√™ncias de Dados**

```python
# Fonte prim√°ria: component-map.yml
{
    "generated_by": "cn-component-parser",
    "total_components": 6,
    "systems": { /* dados de sistemas */ },
    "modules": { /* dados de m√≥dulos */ },
    "components": { /* dados de componentes */ }
}
```

## ‚öôÔ∏è Funcionalidades Principais

### **1. Explora√ß√£o Hier√°rquica Completa**

```bash
cn component explore
```

**Sa√≠da Visual:**

```
# üß© Context Navigator - Explora√ß√£o de Componentes

**Total:** 6 componentes
- üèõÔ∏è  Sistemas: 1
- üì¶ M√≥dulos: 1
- ‚öôÔ∏è  Componentes: 4

## üèõÔ∏è  CONTEXT-NAVIGATOR
üìÅ **Arquivo:** `src/context_navigator/__init__.py`
üìã **Doc:** `MANUAL_IA_OTIMIZADO.md`
üéØ **Prop√≥sito:** Sistema de navega√ß√£o contextual para documenta√ß√£o e c√≥digo

‚îî‚îÄ‚îÄ üì¶ **cli-interface**
    üìÅ `src/context_navigator/cn_cli.py`
    üìã `cli-interface.md`
    ‚îú‚îÄ‚îÄ ‚öôÔ∏è  **context-engine**
    ‚îÇ   üìÅ `src/context_navigator/scripts/context_engine.py`
    ‚îÇ   üìã `context-engine.md`
    ‚îÇ   üè∑Ô∏è  `core`
    ‚îú‚îÄ‚îÄ ‚öôÔ∏è  **cn-component-parser**
    ‚îÇ   üìÅ `src/context_navigator/scripts/cn_component_parser.py`
    ‚îÇ   üìã `cn-component-parser.md`
    ‚îÇ   üè∑Ô∏è  `core`
    ‚îî‚îÄ‚îÄ ‚öôÔ∏è  **context-scanner**
        üìÅ `src/context_navigator/scripts/context_scanner.py`
        üìã `context-scanner.md`
        üè∑Ô∏è  `core`
```

### **2. Explora√ß√£o de Sistema Espec√≠fico**

```bash
cn component explore context-navigator
```

**Resultado:** Foca apenas no sistema especificado com detalhes completos.

### **3. Listagem Simples e Filtrada**

```bash
cn component explore --list
```

**Sa√≠da:**

```
# üìã Lista de Componentes

## üèõÔ∏è  Sistemas
- **context-navigator** (`core`) - Sistema de navega√ß√£o contextual para documenta√ß√£o e c√≥digo

## üì¶ M√≥dulos
- **cli-interface** (`interface`) - Interface de linha de comando para Context Navigator

## ‚öôÔ∏è  Componentes
- **context-engine** (`core`) - Motor principal de processamento contextual
- **cn-component-parser** (`core`) - Parser para extrair e validar marca√ß√µes @cn:
- **context-scanner** (`core`) - Scanner que processa documentos metodol√≥gicos
```

### **4. Filtros por Tipo**

```bash
cn component explore --list --filter components
cn component explore --list --filter systems
```

## üîÑ Algoritmos de Visualiza√ß√£o

### **Algoritmo de Constru√ß√£o de √Årvore**

```python
def _render_system_tree(self, sys_name: str, sys_data: Dict) -> str:
    """
    1. Renderizar cabe√ßalho do sistema
    2. Encontrar m√≥dulos filhos
    3. Para cada m√≥dulo:
       - Renderizar informa√ß√µes do m√≥dulo
       - Encontrar componentes filhos
       - Renderizar √°rvore de componentes
    4. Aplicar formata√ß√£o hier√°rquica (‚îú‚îÄ‚îÄ ‚îî‚îÄ‚îÄ)
    """
```

### **L√≥gica de Relacionamento**

```python
def _find_modules_for_system(self, system_name: str) -> Dict:
    """
    Estrat√©gias de vincula√ß√£o:
    1. parent_system expl√≠cito
    2. An√°lise de path do arquivo
    3. Conven√ß√µes de nomenclatura
    """

def _find_components_for_module(self, module_name: str) -> Dict:
    """
    Estrat√©gias de vincula√ß√£o:
    1. parent_module expl√≠cito
    2. Localiza√ß√£o no diret√≥rio
    3. Conven√ß√µes espec√≠ficas (ex: scripts/ ‚Üí cli-interface)
    """
```

## üéØ Casos de Uso Pr√°ticos

### **Caso 1: Novo Desenvolvedor no Projeto**

```bash
# Entender estrutura geral
cn component explore

# Focar em √°rea espec√≠fica
cn component explore --list --filter modules
```

**Benef√≠cio:** Onboarding r√°pido e compreens√£o da arquitetura.

### **Caso 2: Arquiteto Revisando Sistema**

```bash
# Vis√£o completa da arquitetura
cn component explore context-navigator

# Listar todos os componentes core
cn component explore --list --filter components
```

**Benef√≠cio:** Vis√£o estrutural para decis√µes arquiteturais.

### **Caso 3: Debugging de Relacionamentos**

```bash
# Ver todas as conex√µes
cn component explore

# Verificar se hierarquia est√° correta
cn component explore --validate-hierarchy
```

**Benef√≠cio:** Identificar problemas estruturais.

### **Caso 4: Documenta√ß√£o de Sistema**

```bash
# Gerar relat√≥rio para documenta√ß√£o
cn component explore > architecture-overview.md
```

**Benef√≠cio:** Documenta√ß√£o autom√°tica sempre atualizada.

## üîó Integra√ß√£o com Outros Componentes

### **Depende de:**

- **CN Component Parser:** Gera component-map.yml que serve como fonte de dados
- **component-map.yml:** Arquivo de dados estruturais
- **CLI Interface:** Integra√ß√£o via comando `cn component explore`

### **Usado por:**

- **Desenvolvedores:** Para entender estrutura do projeto
- **Arquitetos:** Para validar design de sistema
- **Novos Team Members:** Para onboarding r√°pido
- **Ferramentas de CI/CD:** Para gerar relat√≥rios autom√°ticos

### **Integra com:**

- **CN Consistency Validator:** Pode mostrar problemas encontrados
- **Context Engine:** Pode exibir recomenda√ß√µes contextuais
- **Documentation Tools:** Gera input para outras ferramentas

## üìä Caracter√≠sticas de Interface

### **Elementos Visuais**

| S√≠mbolo | Significado               | Uso                                |
| ------- | ------------------------- | ---------------------------------- |
| üèõÔ∏è      | Sistema (c1_root)         | N√≠vel mais alto da hierarquia      |
| üì¶      | M√≥dulo (c2_module)        | Agrupamento funcional              |
| ‚öôÔ∏è      | Componente (c3_component) | Unidade b√°sica                     |
| üìÅ      | Arquivo de c√≥digo         | Localiza√ß√£o da implementa√ß√£o       |
| üìã      | Documenta√ß√£o              | Arquivo de refer√™ncia              |
| üè∑Ô∏è      | Context Type              | Tipo do contexto (core, api, etc.) |

### **Estrutura de √Årvore**

```
‚îú‚îÄ‚îÄ (item n√£o √© o √∫ltimo)
‚îî‚îÄ‚îÄ (item √© o √∫ltimo)
‚îÇ   (continua√ß√£o de ramo)
    (espa√ßamento para sub-items)
```

### **Formata√ß√£o de Informa√ß√µes**

- **Nome em negrito:** `**component-name**`
- **Arquivo:** `` `path/to/file.py` ``
- **Documenta√ß√£o:** `` `doc-file.md` ``
- **Contexto:** `` `context-type` ``

## üö® Tratamento de Erros

### **Cen√°rios de Erro**

#### **1. component-map.yml N√£o Encontrado**

```
‚ùå Nenhum component-map.yml encontrado!
üí° Execute: python3 src/context_navigator/scripts/cn_component_parser.py . --format yaml --output .context-navigator/component-map.yml
```

#### **2. Sistema N√£o Encontrado**

```bash
cn component explore sistema-inexistente
# Resultado: ‚ùå Sistema 'sistema-inexistente' n√£o encontrado
```

#### **3. component-map.yml Corrompido**

```
‚ùå Erro ao carregar component-map.yml: invalid YAML syntax
üí° Execute: cn generate component-map --repair
```

### **Estrat√©gias de Recupera√ß√£o**

- **Graceful Degradation:** Mostra informa√ß√µes parciais quando poss√≠vel
- **Sugest√µes Autom√°ticas:** Oferece comandos para corrigir problemas
- **Fallback Mode:** Funciona mesmo com dados incompletos

## üìà M√©tricas e Performance

### **Performance**

- **Carregamento:** <50ms para component-map.yml t√≠pico
- **Renderiza√ß√£o:** <10ms para √°rvore de 50 componentes
- **Mem√≥ria:** <5MB para projetos grandes

### **M√©tricas de Uso**

- **Comandos mais usados:** `explore`, `--list`, `--filter`
- **Sistemas mais explorados:** Baseado em logs de uso
- **Padr√µes de navega√ß√£o:** Sequ√™ncias comuns de comandos

## üîç Debugging e Troubleshooting

### **Logs de Debug**

```python
logger.info(f"Component map carregado: {path}")
logger.debug(f"Sistema encontrado: {system_name}")
logger.warning(f"M√≥dulo sem componentes: {module_name}")
```

### **Comandos de Diagn√≥stico**

```bash
# Verificar sa√∫de do component-map
cn component explore --diagnose

# Validar relacionamentos
cn component explore --validate-relationships

# Export para debug
cn component explore --export-debug > debug-info.json
```

## üöÄ Evolu√ß√£o e Roadmap

### **Funcionalidades Planejadas**

- **Interactive Mode:** Interface interativa com navega√ß√£o por setas
- **Graphical Output:** Gera√ß√£o de diagramas visuais (SVG, PNG)
- **Search Functionality:** Busca por nome, tipo, ou caracter√≠sticas
- **Dependency Graph:** Visualiza√ß√£o de depend√™ncias entre componentes

### **Melhorias de UX**

- **Color Coding:** Cores diferentes para tipos de componentes
- **Progress Indicators:** Para opera√ß√µes longas
- **Auto-refresh:** Atualiza√ß√£o autom√°tica quando component-map muda
- **Export Formats:** Markdown, HTML, JSON para diferentes usos

## üí° **Valor para a Metodologia**

### **Contribui√ß√£o para Context Navigator**

üéØ **Interface Humana:** Torna a componentiza√ß√£o vis√≠vel e compreens√≠vel para humanos, complementando a automa√ß√£o dos outros componentes.

### **Benef√≠cios Demonstrados**

- ‚úÖ **Onboarding Acelerado:** Novos devs entendem estrutura em minutos
- ‚úÖ **Visualiza√ß√£o Clara:** Hierarquia complexa fica simples de entender
- ‚úÖ **Navega√ß√£o Eficiente:** Encontrar componentes rapidamente
- ‚úÖ **Documenta√ß√£o Viva:** Sempre sincronizada com c√≥digo real

### **Impacto na Ado√ß√£o da Metodologia**

**Antes:** Componentiza√ß√£o era conceito abstrato  
**Depois:** Componentiza√ß√£o √© visualmente clara e naveg√°vel

---

**üéØ O CN Component Explorer torna a componentiza√ß√£o tang√≠vel e acess√≠vel, sendo essencial para a ado√ß√£o da metodologia Context Navigator!**
